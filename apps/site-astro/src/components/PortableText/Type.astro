---
import type { Props as ComponentProps } from "astro-portabletext/types";
import { usePortableText } from "astro-portabletext/utils";
import Callout, { type Props as CalloutProps } from "./custom/Callout.astro";

// Use a Union here to add more components
export type Props = CalloutProps;

const props = Astro.props;
const typeIs = (type: string) => type === props.node._type;
const { getDefaultComponent } = usePortableText(props.node);

const Cmp = typeIs("callout") ? Callout : getDefaultComponent();
---

<Cmp {...props} />
